<!--
Copyright 2013 The Polymer Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->
<element name="polymer-ui-theme-aware" attributes="theme">
  <script>
    Polymer.register(this, {
      insertedCallback: function() {
        if (!this.theme) {
          this.findTheme();
        }
      },
      findTheme: findTheme,
      themeChanged: function(old) {
        this.classList.switch(old, this.theme);
      }
    });
    function findTheme() {
      var p = this, theme;
      while (p && !theme) {
        theme = p.getAttribute && p.getAttribute('theme');
        p = p.parentNode || p.host;
      }
      this.theme = theme;
    };
    PolymerUI = { 
      findTheme: findTheme
    };
  </script>
</element>
